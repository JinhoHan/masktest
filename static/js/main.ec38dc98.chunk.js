(this.webpackJsonpmasktest=this.webpackJsonpmasktest||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports=a(26)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(11),s=a.n(c),r=(a(18),a(2)),i=a(3),l=a(4),m=a(5),u=(a(19),function(e){var t=e.children;return o.a.createElement("main",{className:"main"},o.a.createElement("div",{className:"header"},o.a.createElement("section",{className:"header__title"},o.a.createElement("span",null,"\ub0b4 \uc8fc\ubcc0 \ub9c8\uc2a4\ud06c\ub294 \uc5b4\ub514\uc5d0?"))),o.a.createElement("section",{className:"mask-list"},t))}),d=(a(20),a(27)),h=a(28),k=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.geo,a=e.item,n=e.getDistanceFromLatLonInKm,c=e.handleClick,s=a.name,r=a.addr,i=a.remain_stat,l=a.stock_at,m=a.lat,u=a.lng;return o.a.createElement("div",{className:"card-item ".concat(i)},o.a.createElement(d.a,{className:"innerbody ".concat(i),onClick:function(){return c(a)}},o.a.createElement("div",{className:"mask_name_distance"},o.a.createElement(h.a,{className:"mask_name ".concat(i)},s),o.a.createElement(h.a,{className:"distance"},n(t[0],t[1],m,u),"km")),o.a.createElement(h.a,{className:"mask_addr ".concat(i)},r),o.a.createElement(h.a,{className:"mask_remain ".concat(i)},o.a.createElement("div",{className:"mask_remain_color ".concat(i)}),o.a.createElement("div",{className:"mask_remain_text"},"\uc7ac\uace0 :","plenty"===i?" 100\uac1c \uc774\uc0c1":"some"===i?" 30\uac1c \uc774\uc0c1 100\uac1c\ubbf8\ub9cc":"few"===i?" 2\uac1c \uc774\uc0c1 30\uac1c \ubbf8\ub9cc":"empty"===i?" 1\uac1c \uc774\ud558":" \ud310\ub9e4\uc911\uc9c0")),o.a.createElement(h.a,{className:"mask_stock ".concat(null===l?"none_stock":"ok_stock"," ").concat(i)},"\uc785\uace0\uc2dc\uac04 : ",null===l?"\uc785\uace0\uc815\ubcf4\uc5c6\uc74c":l)))}}]),a}(o.a.Component),g=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.geo,a=e.items,n=e.getDistanceFromLatLonInKm,c=e.handleClick,s=a.map((function(e){return o.a.createElement(k,{geo:t,item:e,key:e.code,getDistanceFromLatLonInKm:n,handleClick:c})}));return o.a.createElement("div",null,s)}}]),a}(o.a.Component),v=(a(23),a(24),function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(e){return Object(r.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.lat,a=e.lng,n=(e.remain_stat,document.getElementById("map")),o={center:new kakao.maps.LatLng(t,a),level:3},c=new kakao.maps.Map(n,o),s=new kakao.maps.LatLng(t,a);new kakao.maps.Marker({position:s}).setMap(c)}},{key:"render",value:function(){var e=this.props,t=(e.id,e.geo),a=e.name,n=e.addr,c=e.remain_stat,s=e.stock_at,r=e.lat,i=e.lng,l=e.getDistanceFromLatLonInKm;return o.a.createElement("div",{className:"card-item"},o.a.createElement(d.a,{className:"innerbody selected-item"},o.a.createElement(h.a,{className:"mask_name"},a),o.a.createElement(h.a,{className:"distance selected-item"},l(t[0],t[1],r,i)," km"),o.a.createElement(h.a,{className:"mask_addr "},n),o.a.createElement(h.a,{className:"mask_remain"},o.a.createElement("div",{className:"mask_remain_color"}),o.a.createElement("div",{className:"mask_remain_text"},"\uc7ac\uace0 :","plenty"===c?" 100\uac1c \uc774\uc0c1":"some"===c?" 30\uac1c \uc774\uc0c1 100\uac1c\ubbf8\ub9cc":"few"===c?" 2\uac1c \uc774\uc0c1 30\uac1c \ubbf8\ub9cc":"empty"===c?" 1\uac1c \uc774\ud558":" \ud310\ub9e4\uc911\uc9c0")),o.a.createElement(h.a,{className:"mask_stock"},"\uc785\uace0\uc2dc\uac04 : ",null===s?"\uc785\uace0\uc815\ubcf4\uc5c6\uc74c":s)),o.a.createElement(d.a,{id:"map",className:"kakao_map"},"xxx"))}}]),a}(o.a.Component)),p=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.geo,a=e.selectedItem,n=e.getDistanceFromLatLonInKm,c=e.handleRemove;return console.log(a),o.a.createElement("div",null,o.a.createElement("div",{className:"item-detail-overlay show",onClick:c}),o.a.createElement("div",{className:"item-detail show"},o.a.createElement(v,{geo:t,name:a.name,addr:a.addr,remain_stat:a.remain_stat,stock_at:a.stock_at,lat:a.lat,lng:a.lng,id:a.code,key:a.code,getDistanceFromLatLonInKm:n})))}}]),a}(o.a.Component),f=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleError=function(e){console.log(e.code),alert("\ud604\uc7ac\uc704\uce58\ub97c \ubc1b\uc544\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")},n.handleSuccess=function(e){var t=[e.coords.latitude,e.coords.longitude],a=t[0],o=t[1];console.log(a+" ::: "+o),n.setState({geo:t}),fetch("https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json?lat="+a+"&lng="+o+"&m=1000").then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){return n.setState({items:e.stores})})).catch((function(e){return console.log(e)}))},n.getDistanceFromLatLonInKm=function(e,t,a,o){var c=n.getDegreesToRadians(a-e),s=n.getDegreesToRadians(o-t),r=Math.sin(c/2)*Math.sin(c/2)+Math.cos(n.getDegreesToRadians(e))*Math.cos(n.getDegreesToRadians(a))*Math.sin(s/2)*Math.sin(s/2),i=6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)));return i=i.toFixed(2)},n.getDegreesToRadians=function(e){return e*(Math.PI/180)},n.handleClick=function(e){console.log(e),n.setState({selectedItem:e})},n.handleRemove=function(){n.setState({selectedItem:null})},n.state={geo:[],items:[],selectedItem:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getGeolocation()}},{key:"getGeolocation",value:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.handleSuccess,this.handleError):alert("\ud604\uc7ac\uc704\uce58\ucc3e\uae30\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800 \uc785\ub2c8\ub2e4. \ud639\uc740 \uc124\uc815\uc5d0\uc11c \uc704\uce58\uc815\ubcf4 \uc811\uadfc \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud574\uc8fc\uc138\uc694")}},{key:"render",value:function(){return o.a.createElement(u,null,o.a.createElement(g,{geo:this.state.geo,items:this.state.items,getDistanceFromLatLonInKm:this.getDistanceFromLatLonInKm,handleClick:this.handleClick}),this.state.selectedItem&&o.a.createElement(p,{geo:this.state.geo,selectedItem:this.state.selectedItem,getDistanceFromLatLonInKm:this.getDistanceFromLatLonInKm,handleRemove:this.handleRemove}))}}]),a}(o.a.Component);a(25),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.ec38dc98.chunk.js.map